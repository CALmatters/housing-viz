<!doctype html>
<html>
<meta charset="utf-8">

<head>
	<title>Bar Chart</title>
	<script src="./js/Chart.bundle.js"></script>
	<script src="./js/utils.js"></script>
<style>
canvas {
		-moz-user-select: none;
		-webkit-user-select: none;
		-ms-user-select: none;
}

</style>
</head>

<body>
	<div id="container" style="width: 75%;">
		<canvas id="canvas_state"></canvas>
		<canvas id="country_canvas"></canvas>
    <p>California has 21.47 percent of the nation's homeless population, according to HUD</p>
    <p>Up 13.7 percent increase from 2016-2017</p>
    <ul>
      <li>July 2016: Gov. Brown signed legislation to enact the No Place Like Home program; was supposed to allot $2 billion in bonds for permanent supportive housing for the homeless/mentally hill; bonds delayed due to legal challenges </li>
      <li>May Revision: place the No Place Like Home program back on Nov 2018 ballot - let the voters choose instead of awaiting approval from courts </li>
      <li>2017 Budget Act: shorten housing development approval process, promote accountability, invest in affordable housing, introduce a $4 billion bond on Nov 2018 ballot</li>
      <li>$4.4 billion Governor's Budget: develop affordable housing, provide assistance to first-time homebuyers, offer various support for homeless individuals </li>
    </ul>
	</div>
	<script>
		var YEARS = ['2007','2008','2009','2010','2011','2012','2013','2014','2015','2016','2017'];
		var color = Chart.helpers.color;
		var barChartData = {
			labels: ['2007','2008','2009','2010','2011','2012','2013','2014','2015','2016','2017'],
			datasets: [{
				label: 'Total Sheltered',
				backgroundColor: color(window.chartColors.red).alpha(0.5).rgbString(),
				borderColor: window.chartColors.red,
				borderWidth: 1,
				data: [
          138986-90475,
          136531-89566,
          123678-72901,
          123480-72581,
          125128-74437,
          120098-74208,
          118552-72998,
          113952-71437,
          115738-73699,
          118142-78390,
          134278-91642
				]
			}, {
        label: 'Total Unsheltered',
				backgroundColor: color(window.chartColors.blue).alpha(0.5).rgbString(),
				borderColor: window.chartColors.blue,
				borderWidth: 1,
				data: [
          90475,
          89566,
          72901,
          72581,
          74437,
          74208,
          72998,
          71437,
          73699,
          78390,
          91642
				]
      } //, {
    //     label: 'Homeless Veterans',
    //     backgroundColor: color(window.chartColors.purple).alpha(0.5).rgbString(),
    //     borderColor: window.chartColors.blue,
    //     borderWidth: 1,
    //     data: [
    //       16701,
    //       17276,
    //       17973,
    //       17604,
    //       16783,
    //       14611,
    //       12895,
    //       12096,
    //       11311,
    //       9612,
    //       11472
    //   ]
    // }
    ]

		};

		var country_barChartData = {
			labels: ['2007','2008','2009','2010','2011','2012','2013','2014','2015','2016','2017'],
			datasets: [{
				label: 'Outside of CA',
				backgroundColor: color(window.chartColors.red).alpha(0.5).rgbString(),
				borderColor: window.chartColors.red,
				borderWidth: 1,
				data: [
					647258-138986,
					639784-136531,
					630227-123678,
					637077-123480,
					623788-125128,
					621553-120098,
					590364-118552,
					576450-113952,
					564708-115738,
					549928-118142,
					553742-134278
				]
			}, {
				label: 'In CA',
				backgroundColor: color(window.chartColors.blue).alpha(0.5).rgbString(),
				borderColor: window.chartColors.blue,
				borderWidth: 1,
				data: [
					138986,
          136531,
          123678,
          123480,
          125128,
          120098,
          118552,
          113952,
          115738,
          118142,
          134278
				]
			}
		]

		};


		window.onload = function() {
			var ctx = document.getElementById('canvas_state').getContext('2d');
			window.myBar = new Chart(ctx, {
				type: 'bar',
				data: barChartData,
				options: {
					responsive: true,
					legend: {
						position: 'top',
					},
					title: {
						display: true,
						text: 'Sheltered vs Unsheltered Homeless in CA'
					},
          scales: {
            xAxes: [{stacked: true}],
            yAxes: [{stacked: true}]
          }
				}
			});

			var ctx = document.getElementById('country_canvas').getContext('2d');
			window.myBar = new Chart(ctx, {
				type: 'bar',
				data: country_barChartData,
				options: {
					responsive: true,
					legend: {
						position: 'top',
					},
					title: {
						display: true,
						text: 'Homelessness in CA Compared to Entire Country'
					},
					scales: {
						xAxes: [{stacked: true}],
						yAxes: [{stacked: true}]
					}
				}
			});

		};


	</script>
</body>

</html>
