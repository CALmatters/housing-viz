<!doctype html>
<html>
<meta charset="utf-8">

<head>
	<title>Bar Chart</title>
	<script src="{{url_for('static', filename='./Chart.bundle.js')}}"></script>
	<script src="{{url_for('static', filename='./utils.js')}}"></script>
	<script src="{{url_for('static', filename='./d3.min.js')}}"></script>
<style>
canvas {
		-moz-user-select: none;
		-webkit-user-select: none;
		-ms-user-select: none;
}

</style>
</head>

<body>
	<div id="container" style="width: 75%;">
		<canvas id="canvas_state"></canvas>
		<canvas id="country_canvas"></canvas>
		<p>Top 5 major counties in the country with the highest rates of unsheltered homeless were all in California</p>
		<li>Fresno/Madera County 1,742 87.8% </li>
		<li>Los Angeles 47.082 84.3% </li>
		<li>San Jose/Santa Clara 6,319 81.5% </li>
		<li>Oakland/Alameda 4,918 78% </li>
		<li>San Diego 7,571 70.4% </li>
	</div>
	<script>
		var YEARS = ['2007','2008','2009','2010','2011','2012','2013','2014','2015','2016','2017'];
		var color = Chart.helpers.color;
		var barChartData = {
			labels: ['2007','2008','2009','2010','2011','2012','2013','2014','2015','2016','2017'],
			datasets: [{
				label: 'Total Sheltered',
				backgroundColor: color(window.chartColors.orange).alpha(0.75).rgbString(),
				borderColor: window.chartColors.orange,
				borderWidth: 1,
				data: [
          138986-90475,
          136531-89566,
          123678-72901,
          123480-72581,
          125128-74437,
          120098-74208,
          118552-72998,
          113952-71437,
          115738-73699,
          118142-78390,
          134278-91642
				]
			}, {
        label: 'Total Unsheltered',
				backgroundColor: color(window.chartColors.blue).alpha(0.5).rgbString(),
				borderColor: window.chartColors.blue,
				borderWidth: 1,
				data: [
          90475,
          89566,
          72901,
          72581,
          74437,
          74208,
          72998,
          71437,
          73699,
          78390,
          91642
				]
      } //, {
    //     label: 'Homeless Veterans',
    //     backgroundColor: color(window.chartColors.purple).alpha(0.5).rgbString(),
    //     borderColor: window.chartColors.blue,
    //     borderWidth: 1,
    //     data: [
    //       16701,
    //       17276,
    //       17973,
    //       17604,
    //       16783,
    //       14611,
    //       12895,
    //       12096,
    //       11311,
    //       9612,
    //       11472
    //   ]
    // }
    ]

		};

		var country_barChartData = {
			labels: ['2007','2008','2009','2010','2011','2012','2013','2014','2015','2016','2017'],
			datasets: [
				{
					label: 'CA',
					backgroundColor: color(window.chartColors.blue).alpha(0.5).rgbString(),
					borderColor: window.chartColors.blue,
					borderWidth: 1,
					data: [
						138986,
						136531,
						123678,
						123480,
						125128,
						120098,
						118552,
						113952,
						115738,
						118142,
						134278
					]
			},
			{
				label: 'TX',
				backgroundColor: color(window.chartColors.orange).alpha(0.75).rgbString(),
				borderColor: window.chartColors.orange,
				borderWidth: 1,
				data: [
					39788,
					40190,
					36761,
					35121,
					36911,
					34052,
					29615,
					28495,
					23678,
					23122,
					23548
				]
			},
			{
				label: 'FL',
				backgroundColor: color(window.chartColors.red).alpha(0.75).rgbString(),
				borderColor: window.chartColors.red,
				borderWidth: 1,
				data: [
					48069,
					50158,
					55599,
					57551,
					56687,
					55170,
					47862,
					41542,
					35900,
					33559,
					32190
				]
			},
			{
				label: 'NY',
				backgroundColor: color(window.chartColors.green).alpha(0.75).rgbString(),
				borderColor: window.chartColors.green,
				borderWidth: 1,
				data: [
					62601,
					61125,
					61067,
					65606,
					63445,
					69566,
					77430,
					80590,
					88250,
					86352,
					89503
				]
			},
			{
				label: 'IL',
				backgroundColor: color(window.chartColors.yellow).alpha(0.75).rgbString(),
				borderColor: window.chartColors.yellow,
				borderWidth: 1,
				data: [
					15487,
					14724,
					14055,
					14395,
					14009,
					14144,
					13425,
					13107,
					13177,
					11590,
					10798
				]
			}
		]

		};


		window.onload = function() {
			var ctx = document.getElementById('canvas_state').getContext('2d');
			window.myBar = new Chart(ctx, {
				type: 'bar',
				data: barChartData,
				options: {
					responsive: true,
					legend: {
						position: 'top',
					},
					title: {
						display: true,
						text: 'Sheltered vs Unsheltered Homeless in CA'
					},
          scales: {
            xAxes: [{stacked: true}],
            yAxes: [{stacked: true}]
          }
				}
			});

			var ctx = document.getElementById('country_canvas').getContext('2d');
			window.myBar = new Chart(ctx, {
				type: 'bar',
				data: country_barChartData,
				options: {
					responsive: true,
					legend: {
						position: 'top',
					},
					title: {
						display: true,
						text: 'Homelessness in 5 Most Populous States'
					}//,
					// scales: {
					// 	xAxes: [{stacked: true}],
					// 	yAxes: [{stacked: true}]
					// }
				}
			});

		};


	</script>
</body>

</html>
